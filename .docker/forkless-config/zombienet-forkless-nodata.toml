[settings]
provider = "native"

[relaychain]
default_command = "/polkadot/target/release/polkadot"
default_args = [ "-lparachain::candidate_validation=debug", "-lxcm=trace", ]
chain = "{{ RELAY_CHAIN_TYPE }}-local"

  [[relaychain.nodes]]
  name = "relay-alice"
  ws_port = 9844
  rpc_port = 9843
  p2p_port = 30444

  [[relaychain.node_groups]]
  name = "relay"
  count = 4

[[parachains]]
id = 1000
chain_spec_modifier_commands = [[
  "chainql",
  "--tla-code=rawSpec=import '{{'raw'|chainSpec}}'",
  "--tla-str=forkFrom={{ REPLICA_FROM }}",
  "fork.jsonnet",
]]

  [[parachains.collators]]
  name = "alice"
  command = "/unique-chain/current/release/unique-collator"
  ws_port = 9944
  rpc_port = 9933
  p2p_port = 31200
  args = [
    "-lxcm=trace,parity_ws::handler=debug,jsonrpsee_core=trace,jsonrpsee-core=trace,jsonrpsee_ws_server=debug",
    "--ws-max-connections=1000",
  ]

  [[parachains.collators]]
  name = "bob"
  command = "/unique-chain/current/release/unique-collator"
  ws_port = 9945
  rpc_port = 9934
  p2p_port = 31201
  args = [
    "-lxcm=trace,parity_ws::handler=debug,jsonrpsee_core=trace,jsonrpsee-core=trace,jsonrpsee_ws_server=debug",
    "--ws-max-connections=1000",
  ]
